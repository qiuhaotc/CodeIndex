<Window x:Class="CodeIndex.VisualStudioExtension.Controls.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="CodeIndex Settings" Height="360" Width="640"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource {x:Static SystemColors.WindowBrushKey}}">
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <GroupBox Header="Server Mode" Padding="8" Margin="0 0 0 8">
            <StackPanel Orientation="Horizontal"  >
                <RadioButton Content="Remote" Margin="0 0 20 0" IsChecked="{Binding IsRemoteMode, Mode=TwoWay}"/>
                <RadioButton Content="Local" IsChecked="{Binding IsLocalMode, Mode=TwoWay}"/>
            </StackPanel>
        </GroupBox>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <GroupBox Header="Remote Server" Padding="8" Margin="0 0 0 8">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Label Content="Remote Service Url:"/>
                        <TextBox Grid.Column="1" Text="{Binding RemoteServiceUrl, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>
                </GroupBox>

                <GroupBox Header="Local Server" Padding="8">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Label Content="Local Service Url:"/>
                        <TextBox Grid.Column="1" Text="{Binding LocalServiceUrl, UpdateSourceTrigger=PropertyChanged}"/>

                        <Label Grid.Row="1" Content="Install Path:"/>
                        <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding LocalServerInstallPath, UpdateSourceTrigger=PropertyChanged}"/>
                        <Button Grid.Row="1" Grid.Column="2" Content="Browse" Margin="6 0 0 0" Padding="10 2" Command="{Binding BrowseInstallPathCommand}"/>

                        <Label Grid.Row="2" Content="Data Directory:"/>
                        <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding LocalServerDataDirectory, UpdateSourceTrigger=PropertyChanged}"/>
                        <Button Grid.Row="2" Grid.Column="2" Content="Browse" Margin="6 0 0 0" Padding="10 2" Command="{Binding BrowseDataDirCommand}"/>

                        <Label Grid.Row="3" Content="Installed Version:"/>
                        <TextBox Grid.Row="3" Grid.Column="1" IsReadOnly="True" Text="{Binding LocalServerVersion}"/>
                        <Button Grid.Row="3" Grid.Column="2" Content="Download / Update" Margin="6 0 0 0" Padding="10 2" Command="{Binding DownloadOrUpdateCommand}"/>
                    </Grid>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 12 0 0">
            <Button Content="Save" Width="100" Margin="0 0 8 0" IsDefault="True" Command="{Binding SaveCommand}"/>
            <Button Content="Cancel" Width="100" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>